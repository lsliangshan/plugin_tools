{"version":3,"sources":["webpack:///src/components/tool/Cmd.vue","webpack:///./src/components/tool/Cmd.vue?876d","webpack:///./src/components/tool/Cmd.vue"],"names":["Cmd","name","data","audio","src","el","volume","cmdPrefix","shown","currentCommand","allCommands","hiddenCommands","consoleStyles","color","label","normal","success","warning","error","allRoutePath","historyConsoles","historyCommands","activeHistoryIndex","computed","showAudio","this","$store","state","windowCmdContainerStyles","bottom","mounted","that","window","onkeydown","ev","metaKey","ctrlKey","shiftKey","keyCode","toggleCmdContainer","preventDefault","document","getElementById","getAllRoutePath","push","type","text","commandHelp","methods","keyupHandler","e","length","sendCommand","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","trim","abrupt","dealWithCommand","scrollToConsoleBottom","stop","autoReply","args","_status","status","hasOwnProperty","getCommandName","commandStr","split","getCommandArgs","_a","shift","outPath","content_routes","i","children","indexOf","_this2","promise_default","resolve","_commandName","_commandArgs","clearConsole","commandGo","commandReload","commandAudio","commandSpeak","commandAjax","commandScripts","$router","replace","join","go","commit","mutation_types","show","commandPlay","commandStop","commandRestart","audioGetOp","audioSetOp","audioGetVolume","speechSynthesis","speak","SpeechSynthesisUtterance","audioSetVolume","v","parseFloat","toFixed","Math","min","_this3","setTimeout","play","substring","lastIndexOf","pause","querySelector","scrollTo","watch","val","_this4","$refs","cmdRef","focus","tool_Cmd","render","_vm","_h","$createElement","_c","_self","staticClass","style","class","pointerEvents","attrs","content","placement","on","click","size","_v","_l","item","index","key","domProps","innerHTML","_s","staticStyle","height","ref","on-enter","on-keyup","model","value","callback","$$v","expression","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/34.c69e440096569c3dbdd0.js","sourcesContent":["<template>\n\t<div class=\"window_cmd_container\" :style=\"windowCmdContainerStyles\">\n\t\t<div class=\"window_cmd_inner\" :class=\"{show: shown}\" :style=\"{pointerEvents: (shown ? 'auto' : 'none')}\">\n\t\t\t<div class=\"window_cmd_toggle_container\">\n\t\t\t\t<Tooltip :content=\"shown ? '关闭操作框 cmd/ctrl + shift + R' : '打开操作框 cmd/ctrl + shift + R'\" placement=\"left\">\n\t\t            <div class=\"window_cmd_toggle\" @click=\"toggleCmdContainer\">\n\t\t\t\t\t\t<Icon type=\"md-hammer\" size=\"20\" />\n\t\t\t\t\t</div>\n\t\t        </Tooltip>\n\t\t\t</div>\n\t\t\t<div class=\"window_cmd_content\">\n\t\t\t\t<div class=\"window_cmd_console\">\n\t\t\t\t\t<div class=\"window_cmd_console_item\" v-for=\"(item, index) in historyConsoles\" :key=\"index\" :class=\"item.type\" >\n\t\t\t\t\t\t<div class=\"window_cmd_console_item_inner\" v-html=\"item.text\"></div>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"blank_div\" style=\"height: 15px;\"></div>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"window_cmd_input\">\n\t\t\t\t\t<span>{{cmdPrefix}}</span>\n\t\t\t\t\t<Input v-model=\"currentCommand\" ref=\"cmdRef\" type=\"text\" size=\"large\" @on-enter=\"sendCommand\" @on-keyup=\"keyupHandler\"/>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t</div>\n\t</div>\n</template>\n\n<style scoped>\n\t.window_cmd_container {\n\t\tposition: fixed;\n\t\tz-index: 999;\n\t\tright: 15px;\n\t\tbottom: 80px;\n\t\twidth: 450px;\n\t\theight: 380px;\n\t\toverflow: hidden;\n\t\tpointer-events: none;\n\t\tbackground-color: transparent;\n\t\ttransition: all .3s ease-in-out;\n\t}\n\t.window_cmd_inner {\n\t\tposition: absolute;\n\t\tpointer-events: auto;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\ttransform: translate3d(0, 340px, 0);\n\t\ttransition: all .2s cubic-bezier(0.215, 0.61, 0.355, 1);\n\t}\n\t.window_cmd_inner.show {\n\t\ttransform: translate3d(0, 0, 0);\n\t}\n\t.window_cmd_inner.hide {\n\t\t\n\t}\n\t.window_cmd_toggle_container {\n\t\twidth: 100%;\n\t\theight: 40px;\n\t\tpointer-events: none;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t\tjustify-content: flex-end;\n\t}\n\t.window_cmd_toggle {\n\t\tpointer-events: auto;\n\t\twidth: 40px;\n\t\theight: 40px;\n\t\tcursor: pointer;\n\t\tborder-radius: 50%;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\ttransition: all .2s ease-in-out;\n\t\tbackground-color: rgba(255, 255, 255, 0.5);\n\t}\n\t.window_cmd_toggle:hover {\n\t\tbackground-color: rgb(79, 192, 141);\n\t\tcolor: #FFFFFF;\n\t}\n\t.window_cmd_toggle:active {\n\t\topacity: .7;\n\t}\n\t.window_cmd_content\t{\n\t\tposition: relative;\n\t\tcolor: #ccc;\n\t\twidth: 100%;\n\t\theight: 340px;\n\t\tbackground-color: rgba(0, 0, 0, 1);\t\t\n\t}\n\t.window_cmd_content:before {\n\t    position: absolute;\n\t    top: 0;\n\t    width: 450px;\n\t    z-index: 1;\n\t    content: \"\";\n\t    display: block;\n\t    height: 19px;\n\t    box-shadow: inset 0 5px 10px #000;\n\t}\n\t.window_cmd_console {\n\t\twidth: 100%;\n\t\theight: 300px;\n\t\tpadding: 15px;\n\t\tbox-sizing: border-box;\n\t\toverflow-y: auto;\n\t}\n\t.window_cmd_console_item {\n\n\t}\n\t.window_cmd_console_item_inner {\n\t\tline-height: 1.5;\n\t\toverflow: hidden;\n    \tword-wrap: break-word;\n\t}\n\t.window_cmd_console_item.reply {\n\t\tmargin: 16px 0;\n\t}\n\t.window_cmd_input {\n\t\twidth: 100%;\n\t\theight: 39px;\n\t\tcolor: #cccccc;\n\t\tpadding-left: 15px;\n\t\tpadding-right: 15px;\n\t\tborder-top: 1px solid rgba(255, 255, 255, 0.1);\n\t\tbox-sizing: border-box;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t\tjustify-content: space-between;\n\t}\n\t.window_cmd_input span {\n\t\twidth: 60px;\n\t\ttext-align: center;\n\t}\n\t.window_cmd_input input {\n\t\theight: 40px;\n\t}\n</style>\n\n<script>\n\timport * as types from '../../store/mutation-types'\n\timport router from '../../router/content-routes.js'\n\texport default {\n\t\tname: 'Cmd',\n\t\tdata () {\n\t\t\treturn {\n\t\t\t\taudio: {\n\t\t\t\t\tsrc: '',\n\t\t\t\t\tel: null,\n\t\t\t\t\tvolume: 50\n\t\t\t\t},\n\t\t\t\tcmdPrefix: '~ root# ',\n\t\t\t\tshown: false,\n\t\t\t\tcurrentCommand: '',\n\t\t\t\tallCommands: ['help', 'go', 'clear', 'reload', 'audio', 'speak'],\n\t\t\t\thiddenCommands: ['ajax'],\n\t\t\t\tconsoleStyles: {\n\t\t\t\t\tcolor: {\n\t\t\t\t\t\tlabel: 'rgb(79, 192, 141)',\n\t\t\t\t\t\tnormal: '#cccccc',\n\t\t\t\t\t\tsuccess: '#19be6b',\n\t\t\t\t\t\twarning: '#ff9900',\n\t\t\t\t\t\terror: '#ed4014'\n\t\t\t\t\t}\n\t\t\t\t},\n\t\t\t\tallRoutePath: [],\n\t\t\t\thistoryConsoles: [\n\t\t\t\t],\n\t\t\t\thistoryCommands: [],\n\t\t\t\tactiveHistoryIndex: -1\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tshowAudio () {\n\t\t\t\treturn this.$store.state.showAudio\n\t\t\t},\n\t\t\twindowCmdContainerStyles () {\n\t\t\t\treturn {\n\t\t\t\t\tbottom: (this.shown ? '80px' : (this.showAudio ? '80px' : '30px'))\n\t\t\t\t}\n\t\t\t}\n\t\t},\n\t\tmounted () {\n\t\t\tconst that = this\n\t\t\twindow.onkeydown = function (ev) {\n\t\t\t\tif ((ev.metaKey || ev.ctrlKey) && ev.shiftKey && ev.keyCode === 82) {\n\t\t\t\t\tthat.toggleCmdContainer()\n\t\t\t\t\tev.preventDefault()\n\t\t\t\t\treturn false\n\t\t\t\t}\n\t        }\n\t\t\tthis.audio.el = document.getElementById('cmd_audio')\n\t\t\tthis.allRoutePath = this.getAllRoutePath()\n\t\t\tthis.historyConsoles.push({\n\t\t\t\ttype: 'user',\n\t\t\t\ttext: '<span style=\"color: ' + this.consoleStyles.color.label + ';\">' + this.cmdPrefix + '</span> help'\n\t\t\t})\n\t\t\tthis.commandHelp()\n\t\t},\n\t\tmethods: {\n\t\t\ttoggleCmdContainer () {\n\t\t\t\tthis.shown = !this.shown\n\t\t\t},\n\t\t\tkeyupHandler (e) {\n\t\t\t\tif (e.keyCode === 38) {\n\t\t\t\t\t// 上一条\n\t\t\t\t\tthis.activeHistoryIndex = (this.activeHistoryIndex - 1 + this.historyCommands.length) % this.historyCommands.length\n\t\t\t\t\tthis.currentCommand = this.historyCommands[this.activeHistoryIndex]\n\t\t\t\t} else if (e.keyCode === 40) {\n\t\t\t\t\t// 下一条\n\t\t\t\t\tthis.activeHistoryIndex = (this.activeHistoryIndex + 1) % this.historyCommands.length\n\t\t\t\t\tthis.currentCommand = this.historyCommands[this.activeHistoryIndex]\n\t\t\t\t} else {}\n\t\t\t},\n\t\t\tasync sendCommand () {\n\t\t\t\tif (!this.currentCommand || !this.currentCommand.trim()) {\n\t\t\t\t\treturn\n\t\t\t\t}\n\t\t\t\tthis.historyConsoles.push({\n\t\t\t\t\ttype: 'user',\n\t\t\t\t\ttext: '<span style=\"color: ' + this.consoleStyles.color.label + ';\">' + this.cmdPrefix + '</span> ' + this.currentCommand\n\t\t\t\t})\n\t\t\t\tawait this.dealWithCommand(this.currentCommand.trim())\n\t\t\t\tif (this.historyCommands[this.historyCommands.length - 1] !== this.currentCommand.trim()) {\n\t\t\t\t\tthis.historyCommands.push(this.currentCommand.trim())\n\t\t\t\t\tthis.activeHistoryIndex = this.historyCommands.length\n\t\t\t\t}\n\t\t\t\tthis.currentCommand = ''\n\t\t\t\tthis.scrollToConsoleBottom()\n\t\t\t},\n\t\t\tautoReply (args) {\n\t\t\t\tlet _status = 'normal'\n\t\t\t\tif (args.status && this.consoleStyles.color.hasOwnProperty(args.status)) {\n\t\t\t\t\t_status = args.status\n\t\t\t\t}\n\t\t\t\tthis.historyConsoles.push({\n\t\t\t\t\ttype: 'reply',\n\t\t\t\t\ttext: '<span style=\"color: ' + this.consoleStyles.color[_status] + ';\">' + args.text + '</span>'\n\t\t\t\t})\n\t\t\t},\n\t\t\tgetCommandName (commandStr) {\n\t\t\t\treturn commandStr.split(' ')[0]\n\t\t\t},\n\t\t\tgetCommandArgs (commandStr) {\n\t\t\t\tlet _a = commandStr.split(' ')\n\t\t\t\t_a.shift()\n\t\t\t\treturn _a\t\t\t\t\n\t\t\t},\n\t\t\tgetAllRoutePath () {\n\t\t\t\tlet outPath = []\n\t\t\t\tif (router.hasOwnProperty('name')) {\n\t\t\t\t\toutPath.push(router.name)\n\t\t\t\t}\n\t\t\t\tfor (let i = 0; i < router.children.length; i++) {\n\t\t\t\t\tif (router.children[i].hasOwnProperty('name') && outPath.indexOf(router.children[i].name) < 0) {\n\t\t\t\t\t\toutPath.push(router.children[i].name)\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t\treturn outPath\n\t\t\t},\n\t\t\tdealWithCommand (commandStr) {\n\t\t\t\treturn new Promise(resolve => {\n\t\t\t\t\tlet _commandName = this.getCommandName(commandStr)\n\t\t\t\t\tif (this.allCommands.indexOf(_commandName) < 0 && this.hiddenCommands.indexOf(_commandName) < 0) {\n\t\t\t\t\t\tthis.autoReply({\n\t\t\t\t\t\t\tstatus: 'error',\n\t\t\t\t\t\t\ttext: '命令 <b>' + _commandName + '</b> 不存在<br/><span style=\"color: #cccccc;\">输入 help 查看帮助</span>'\n\t\t\t\t\t\t})\n\t\t\t\t\t\tresolve(true)\n\t\t\t\t\t}\n\t\t\t\t\tlet _commandArgs = this.getCommandArgs(commandStr)\n\t\t\t\t\tswitch (_commandName) {\n\t\t\t\t\t\tcase 'clear':\n\t\t\t\t\t\t\tthis.clearConsole()\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'go':\n\t\t\t\t\t\t\tthis.commandGo({\n\t\t\t\t\t\t\t\targs: _commandArgs\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'help':\n\t\t\t\t\t\t\tthis.commandHelp()\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'reload':\n\t\t\t\t\t\t\tthis.commandReload()\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'audio':\n\t\t\t\t\t\t\tthis.commandAudio({\n\t\t\t\t\t\t\t\targs: _commandArgs\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'speak':\n\t\t\t\t\t\t\tthis.commandSpeak({\n\t\t\t\t\t\t\t\targs: _commandArgs\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'ajax':\n\t\t\t\t\t\t\tthis.commandAjax()\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'scripts':\n\t\t\t\t\t\t\tthis.commandScripts()\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\t// case 'play':\n\t\t\t\t\t\t// \tthis.commandPlay({\n\t\t\t\t\t\t// \t\targs: _commandArgs\n\t\t\t\t\t\t// \t})\n\t\t\t\t\t\t// \tbreak\n\t\t\t\t\t\t// case 'stop':\n\t\t\t\t\t\t// \tthis.commandStop()\n\t\t\t\t\t\t// \tbreak\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t\tresolve(true)\n\t\t\t\t})\t\t\t\t\n\t\t\t},\n\t\t\tcommandAjax () {\n\t\t\t\tthis.$router.replace({\n\t\t\t\t\tname: 'ajax'\n\t\t\t\t})\n\t\t\t},\n\t\t\tcommandScripts () {\n\t\t\t\tthis.$router.replace({\n\t\t\t\t\tname: 'scripts'\n\t\t\t\t})\n\t\t\t},\n\t\t\tcommandGo (args) {\n\t\t\t\t/**\n\t\t\t\t * Command:  go\n\t\t\t\t */\n\t\t\t\tif (!args.args || args.args.length < 1) {\n\t\t\t\t\tthis.autoReply({\n\t\t\t\t\t\tstatus: 'normal',\n\t\t\t\t\t\ttext: '请输入待跳转的路由名称：' + this.allRoutePath.join('、') + '<br/>例如：go home'\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tif (this.allRoutePath.indexOf(args.args[0]) < 0) {\n\t\t\t\t\t\t// 路由不存在\n\t\t\t\t\t\tthis.autoReply({\n\t\t\t\t\t\t\tstatus: 'warning',\n\t\t\t\t\t\t\ttext: '路由 <b>' + args.args[0] + '</b> 不存在<br/><span style=\"color: #ccc;\">请输入待跳转的路由名称：' + this.allRoutePath.join('、') + '</span><br/><span style=\"color: #ccc;\">例如：go home</span>'\n\t\t\t\t\t\t})\n\t\t\t\t\t} else {\n\t\t\t\t\t\tthis.$router.replace({\n\t\t\t\t\t\t\tname: args.args[0]\n\t\t\t\t\t\t})\n\t\t\t\t\t}\t\t\t\t\t\n\t\t\t\t}\n\t\t\t},\n\t\t\tcommandHelp () {\n\t\t\t\t/**\n\t\t\t\t * Command: help\n\t\t\t\t */\n\t\t\t\t this.autoReply({\n\t\t\t\t \tstatus: 'normal',\n\t\t\t\t \ttext: '可用命令包括：' + this.allCommands.join('、')\n\t\t\t\t })\n\t\t\t},\n\t\t\tcommandReload () {\n\t\t\t\t/**\n\t\t\t\t * Command: reload\n\t\t\t\t * 页面刷新\n\t\t\t\t */\n\t\t\t\t this.$router.go(0)\n\t\t\t},\n\t\t\tcommandAudio (args) {\n\t\t\t\t/**\n\t\t\t\t * Command: audio\n\t\t\t\t * audio相关操作\n\t\t\t\t */\n\t\t\t\tif (!args.args || args.args.length < 1) {\n\t\t\t\t\tthis.$router.replace({\n\t\t\t\t\t\tname: 'audio'\n\t\t\t\t\t})\n\t\t\t\t\tthis.$store.commit(types.SET_AUDIO_SHOWN, {\n\t\t\t\t\t\tshow: true\n\t\t\t\t\t})\n\t\t\t\t\t// this.autoReply({\n\t\t\t\t\t// \tstatus: 'error',\n\t\t\t\t\t// \ttext: '请输入操作名，可用的操作名包括：play、stop、volume、set'\n\t\t\t\t\t// })\n\t\t\t\t} else {\n\t\t\t\t\tlet _op = args.args.shift()\n\t\t\t\t\tswitch (_op) {\n\t\t\t\t\t\tcase 'hide':\n\t\t\t\t\t\t\tthis.$store.commit(types.SET_AUDIO_SHOWN, {\n\t\t\t\t\t\t\t\tshow: false\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'play':\n\t\t\t\t\t\t\tthis.commandPlay({\n\t\t\t\t\t\t\t\targs: args.args\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'stop':\n\t\t\t\t\t\tcase 'pause':\n\t\t\t\t\t\t\tthis.commandStop()\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'restart':\n\t\t\t\t\t\t\tthis.commandRestart()\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'get':\n\t\t\t\t\t\t\tthis.audioGetOp({\n\t\t\t\t\t\t\t\targs: args.args\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'set':\n\t\t\t\t\t\t\tthis.audioSetOp({\n\t\t\t\t\t\t\t\targs: args.args\n\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tcase 'volume':\n\t\t\t\t\t\t\tthis.audioGetVolume()\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\tcommandSpeak (args) {\n\t\t\t\tfor (let i = 0; i < args.args.length; i++) {\n\t\t\t\t\twindow.speechSynthesis.speak(new window.SpeechSynthesisUtterance(args.args[i]))\n\t\t\t\t}\n\t\t\t},\n\t\t\taudioGetOp (args) {\n\t\t\t\tif (!args.args || args.args.length < 0) {\n\t\t\t\t\tthis.autoReply({\n\t\t\t\t\t\tstatus: 'error',\n\t\t\t\t\t\ttext: '请输入想获取的属性，如 volume'\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tlet _opName = args.args.shift()\n\t\t\t\t\tswitch (_opName) {\n\t\t\t\t\t\tcase 'volume':\n\t\t\t\t\t\t\tthis.audioGetVolume()\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\taudioSetOp (args) {\n\t\t\t\tif (!args.args || args.args.length < 0) {\n\t\t\t\t\tthis.autoReply({\n\t\t\t\t\t\tstatus: 'error',\n\t\t\t\t\t\ttext: '请输入想设置的属性，如 volume'\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tlet _opName = args.args.shift()\n\t\t\t\t\tswitch (_opName) {\n\t\t\t\t\t\tcase 'volume':\n\t\t\t\t\t\t\tthis.audioSetVolume(args.args.shift())\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t\tdefault:\n\t\t\t\t\t\t\tbreak\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n\t\t\taudioGetVolume () {\n\t\t\t\t/**\n\t\t\t\t * 获取当前音频的音量\n\t\t\t\t */\n\t\t\t\tthis.autoReply({\n\t\t\t\t\tstatus: 'normal',\n\t\t\t\t\ttext: '当前音量：' + this.audio.el.volume * 100\n\t\t\t\t})\n\t\t\t},\n\t\t\taudioSetVolume (v) {\n\t\t\t\tthis.audio.el.volume = ((parseFloat(v) / 100).toFixed(2) > 1 ? 1 : (parseFloat(v) / 100).toFixed(2))\n\t\t\t\tthis.autoReply({\n\t\t\t\t\tstatus: 'success',\n\t\t\t\t\ttext: (v > 100 ? '音量上限为100，' : '') + '音量已经设置为：' + Math.min(v, 100)\n\t\t\t\t})\n\t\t\t},\n\t\t\tcommandPlay (args) {\n\t\t\t\t/**\n\t\t\t\t * Command: play\n\t\t\t\t * 播放音频\n\t\t\t\t */\n\t\t\t\tif (!args.args || args.args.length < 1) {\n\t\t\t\t\tthis.autoReply({\n\t\t\t\t\t\tstatus: 'warning',\n\t\t\t\t\t\ttext: '未指定音频资源'\n\t\t\t\t\t})\n\t\t\t\t} else {\n\t\t\t\t\tthis.audio.src = args.args[0]\t\t\t\t\t\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.audio.el.play()\n\t\t\t\t\t\tthis.autoReply({\n\t\t\t\t\t\t\tstatus: 'success',\n\t\t\t\t\t\t\ttext: '正在播放: ' + args.args[0].substring(args.args[0].lastIndexOf('/') + 1, args.args[0].lastIndexOf('.'))\n\t\t\t\t\t\t})\n\t\t\t\t\t}, 1)\n\t\t\t\t}\n\t\t\t},\n\t\t\tcommandStop () {\n\t\t\t\t/**\n\t\t\t\t * Command: stop\n\t\t\t\t * 暂停播放音频\n\t\t\t\t */\n\t\t\t\tthis.audio.el.pause()\n\t\t\t\tthis.autoReply({\n\t\t\t\t\tstatus: 'success',\n\t\t\t\t\ttext: '音乐已经暂停'\n\t\t\t\t})\n\t\t\t},\n\t\t\tcommandRestart () {\n\t\t\t\tthis.audio.el.play()\n\t\t\t\tthis.autoReply({\n\t\t\t\t\tstatus: 'success',\n\t\t\t\t\ttext: '继续播放: ' + this.audio.src.substring(this.audio.src.lastIndexOf('/') + 1, this.audio.src.lastIndexOf('.'))\n\t\t\t\t})\n\t\t\t},\n\t\t\tclearConsole () {\n\t\t\t\tthis.historyConsoles = [\n\t\t\t\t\t{\n\t\t\t\t\t\ttype: 'user',\n\t\t\t\t\t\ttext: '<span style=\"color: ' + this.consoleStyles.color.label + ';\">' + this.cmdPrefix + '</span> clear'\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t},\n\t\t\tscrollToConsoleBottom () {\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tdocument.querySelector('.window_cmd_console').scrollTo(0, 10000)\n\t\t\t\t}, 10)\n\t\t\t}\n\t\t},\n\t\twatch: {\n\t\t\tshown (val) {\n\t\t\t\tif (val) {\n\t\t\t\t\tsetTimeout(() => {\n\t\t\t\t\t\tthis.$refs.cmdRef.focus()\n\t\t\t\t\t}, 100)\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/tool/Cmd.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"window_cmd_container\",style:(_vm.windowCmdContainerStyles)},[_c('div',{staticClass:\"window_cmd_inner\",class:{show: _vm.shown},style:({pointerEvents: (_vm.shown ? 'auto' : 'none')})},[_c('div',{staticClass:\"window_cmd_toggle_container\"},[_c('Tooltip',{attrs:{\"content\":_vm.shown ? '关闭操作框 cmd/ctrl + shift + R' : '打开操作框 cmd/ctrl + shift + R',\"placement\":\"left\"}},[_c('div',{staticClass:\"window_cmd_toggle\",on:{\"click\":_vm.toggleCmdContainer}},[_c('Icon',{attrs:{\"type\":\"md-hammer\",\"size\":\"20\"}})],1)])],1),_vm._v(\" \"),_c('div',{staticClass:\"window_cmd_content\"},[_c('div',{staticClass:\"window_cmd_console\"},[_vm._l((_vm.historyConsoles),function(item,index){return _c('div',{key:index,staticClass:\"window_cmd_console_item\",class:item.type},[_c('div',{staticClass:\"window_cmd_console_item_inner\",domProps:{\"innerHTML\":_vm._s(item.text)}})])}),_vm._v(\" \"),_c('div',{staticClass:\"blank_div\",staticStyle:{\"height\":\"15px\"}})],2),_vm._v(\" \"),_c('div',{staticClass:\"window_cmd_input\"},[_c('span',[_vm._v(_vm._s(_vm.cmdPrefix))]),_vm._v(\" \"),_c('Input',{ref:\"cmdRef\",attrs:{\"type\":\"text\",\"size\":\"large\"},on:{\"on-enter\":_vm.sendCommand,\"on-keyup\":_vm.keyupHandler},model:{value:(_vm.currentCommand),callback:function ($$v) {_vm.currentCommand=$$v},expression:\"currentCommand\"}})],1)])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-62f11b70\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/tool/Cmd.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-62f11b70\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Cmd.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Cmd.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Cmd.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-62f11b70\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Cmd.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-62f11b70\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/tool/Cmd.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
{"version":3,"sources":["webpack:///src/components/tool/Diff.vue","webpack:///./src/components/tool/Diff.vue?885f","webpack:///./src/components/tool/Diff.vue"],"names":["Diff","name","data","reader","sourceFile","targetFile","allEncodeTypes","value","sourceEncodeType","targetEncodeType","computed","bodyStyles","this","$store","state","diffContainerStyles","height","created","_this","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","loadStyle","loadScript","$nextTick","FileReader","setTimeout","$","document","ready","mergely","lhs","setValue","rhs","stop","mounted","methods","chooseSourceFile","f","readAsText","onload","e","target","result","chooseTargetFile","tool_Diff","render","_vm","_h","$createElement","_c","_self","staticClass","style","staticStyle","width","attrs","prefix","readonly","placeholder","_v","action","before-upload","show-upload-list","icon","type","model","callback","$$v","expression","_l","item","index","key","_s","_m","staticRenderFns","id","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/4.5b827151bd93fd2acea2.js","sourcesContent":["<template>\n  <div class=\"diff_container\"\n       :style=\"diffContainerStyles\">\n    <div class=\"diff_inner\">\n      <div class=\"diff_header\">\n        <div class=\"diff_header_item diff_header_left\">\n          <Input :value=\"sourceFile.name\"\n                 prefix=\"md-document\"\n                 class=\"diff_input\"\n                 readonly\n                 placeholder=\"选择文件\"\n                 style=\"width: 250px\" />\n          <Upload action=\"/\"\n                  :before-upload=\"chooseSourceFile\"\n                  class=\"diff_upload\"\n                  :show-upload-list=\"false\">\n            <Button icon=\"ios-folder-open\"\n                    type=\"primary\">选择文件</Button>\n          </Upload>\n          <Select v-model=\"sourceEncodeType\"\n                  style=\"width: 100px;\">\n            <Option v-for=\"(item, index) in allEncodeTypes\"\n                    :key=\"item.value\"\n                    :value=\"item.value\">{{item.name}}</Option>\n          </Select>\n        </div>\n        <div class=\"diff_header_item diff_header_right\">\n          <Input :value=\"sourceFile.name\"\n                 prefix=\"md-document\"\n                 class=\"diff_input\"\n                 readonly\n                 placeholder=\"选择文件\"\n                 style=\"width: 250px\" />\n          <Upload action=\"/\"\n                  :before-upload=\"chooseTargetFile\"\n                  class=\"diff_upload\"\n                  :show-upload-list=\"false\">\n            <Button icon=\"ios-folder-open\"\n                    type=\"primary\">选择文件</Button>\n          </Upload>\n          <Select v-model=\"targetEncodeType\"\n                  style=\"width: 100px;\">\n            <Option v-for=\"(item, index) in allEncodeTypes\"\n                    :key=\"item.value\"\n                    :value=\"item.value\">{{item.name}}</Option>\n          </Select>\n        </div>\n      </div>\n      <div class=\"mergely_container\">\n        <div class=\"mergely-full-screen-8\">\n          <div class=\"mergely-resizer\">\n            <div id=\"mergely\"></div>\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n<style scoped>\n/*@import url('/html/static/pkg/codemirror/lib/codemirror.css');\n\t@import url('/html/static/pkg/mergely/lib/mergely.css');*/\n.diff_container {\n  width: 100%;\n  height: 100%;\n  padding: 15px;\n  box-sizing: border-box;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n}\n.diff_inner {\n  position: relative;\n  width: 1000px;\n  height: 100%;\n  padding: 15px;\n  box-sizing: border-box;\n  border-radius: 4px;\n  display: flex;\n  flex-direction: column;\n  /*align-items: center;*/\n  justify-content: space-between;\n  background-color: rgba(255, 255, 255, 0.9);\n}\n.diff_header {\n  width: 100%;\n  height: 48px;\n  display: flex;\n  align-items: center;\n  justify-content: space-between;\n}\n.diff_header_item {\n  width: 50%;\n  height: 100%;\n  padding: 0 15px;\n  box-sizing: border-box;\n  display: flex;\n  align-items: flex-end;\n  justify-content: flex-start;\n}\n.diff_header_left {\n}\n.diff_header_right {\n}\n.mergely_container {\n  position: relative;\n  width: 100%;\n  height: 100%;\n}\n</style>\n<script>\n// import $ from 'jquery'\n// import '../../../node_modules/mergely/lib/mergely.js'\nexport default {\n  name: 'diff',\n  data () {\n    return {\n      reader: null,\n      sourceFile: {},\n      targetFile: {},\n      allEncodeTypes: [\n        {\n          name: 'UTF-8',\n          value: 'UTF-8'\n        },\n        {\n          name: 'GBK',\n          value: 'GBK'\n        },\n        {\n          name: 'GB2312',\n          value: 'GB2312'\n        },\n        {\n          name: 'GB18030',\n          value: 'GB18030'\n        },\n        {\n          name: 'ISO-8859-2',\n          value: 'ISO-8859-2'\n        }\n      ],\n      sourceEncodeType: 'UTF-8',\n      targetEncodeType: 'UTF-8'\n    }\n  },\n  computed: {\n    bodyStyles () {\n      return this.$store.state.bodyStyles\n    },\n    diffContainerStyles () {\n      return {\n        height: (this.bodyStyles.height - 65) + 'px'\n      }\n    }\n  },\n  async created () {\n    await this.loadStyle('/static/pkg/codemirror/lib/codemirror.css')\n    await this.loadStyle('/static/pkg/mergely/lib/mergely.css')\n    await this.loadScript('/static/pkg/jquery/dist/jquery.min.js')\n    await this.loadScript('/static/pkg/codemirror/lib/codemirror.js')\n    await this.loadScript('/static/pkg/codemirror/addon/search/searchcursor.js')\n    await this.loadScript('/static/pkg/mergely/lib/mergely.js')\n    this.$nextTick(() => {\n      this.reader = new FileReader()\n      setTimeout(() => {\n        $(document).ready(function () {\n          $('#mergely').mergely({\n            lhs: function (setValue) {\n              setValue('good good study, day day down')\n            },\n            rhs: function (setValue) {\n              setValue('good good study, day day up')\n            }\n          })\n        })\n      }, 100)\n    })\n  },\n  mounted () {\n\n  },\n  methods: {\n    chooseSourceFile (f) {\n      this.sourceFile = f\n      this.reader.readAsText(f, this.sourceEncodeType || 'UTF-8')\n      this.reader.onload = function (e) {\n        $('#mergely').mergely('lhs', e.target.result)\n      }\n      return false\n    },\n    chooseTargetFile (f) {\n      this.targetFile = f\n      this.reader.readAsText(f, this.targetEncodeType || 'UTF-8')\n      this.reader.onload = function (e) {\n        $('#mergely').mergely('rhs', e.target.result)\n      }\n      return false\n    }\n  }\n}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/tool/Diff.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"diff_container\",style:(_vm.diffContainerStyles)},[_c('div',{staticClass:\"diff_inner\"},[_c('div',{staticClass:\"diff_header\"},[_c('div',{staticClass:\"diff_header_item diff_header_left\"},[_c('Input',{staticClass:\"diff_input\",staticStyle:{\"width\":\"250px\"},attrs:{\"value\":_vm.sourceFile.name,\"prefix\":\"md-document\",\"readonly\":\"\",\"placeholder\":\"选择文件\"}}),_vm._v(\" \"),_c('Upload',{staticClass:\"diff_upload\",attrs:{\"action\":\"/\",\"before-upload\":_vm.chooseSourceFile,\"show-upload-list\":false}},[_c('Button',{attrs:{\"icon\":\"ios-folder-open\",\"type\":\"primary\"}},[_vm._v(\"选择文件\")])],1),_vm._v(\" \"),_c('Select',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.sourceEncodeType),callback:function ($$v) {_vm.sourceEncodeType=$$v},expression:\"sourceEncodeType\"}},_vm._l((_vm.allEncodeTypes),function(item,index){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.name))])}))],1),_vm._v(\" \"),_c('div',{staticClass:\"diff_header_item diff_header_right\"},[_c('Input',{staticClass:\"diff_input\",staticStyle:{\"width\":\"250px\"},attrs:{\"value\":_vm.sourceFile.name,\"prefix\":\"md-document\",\"readonly\":\"\",\"placeholder\":\"选择文件\"}}),_vm._v(\" \"),_c('Upload',{staticClass:\"diff_upload\",attrs:{\"action\":\"/\",\"before-upload\":_vm.chooseTargetFile,\"show-upload-list\":false}},[_c('Button',{attrs:{\"icon\":\"ios-folder-open\",\"type\":\"primary\"}},[_vm._v(\"选择文件\")])],1),_vm._v(\" \"),_c('Select',{staticStyle:{\"width\":\"100px\"},model:{value:(_vm.targetEncodeType),callback:function ($$v) {_vm.targetEncodeType=$$v},expression:\"targetEncodeType\"}},_vm._l((_vm.allEncodeTypes),function(item,index){return _c('Option',{key:item.value,attrs:{\"value\":item.value}},[_vm._v(_vm._s(item.name))])}))],1)]),_vm._v(\" \"),_vm._m(0)])])}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"mergely_container\"},[_c('div',{staticClass:\"mergely-full-screen-8\"},[_c('div',{staticClass:\"mergely-resizer\"},[_c('div',{attrs:{\"id\":\"mergely\"}})])])])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-cc34c83c\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/tool/Diff.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-cc34c83c\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./Diff.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Diff.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./Diff.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-cc34c83c\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./Diff.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-cc34c83c\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/tool/Diff.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
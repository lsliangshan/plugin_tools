{"version":3,"sources":["webpack:///src/components/pages/audio/pages/search.m.vue","webpack:///./src/components/pages/audio/pages/search.m.vue?3b91","webpack:///./src/components/pages/audio/pages/search.m.vue"],"names":["search_m","name","data","_this","this","searchKey","currentPage","limit","totalCounts","songs","loadingData","playingIndex","inputing","columns","title","key","width","render","h","params","that","style","display","alignItems","justifyContent","index","class","marginLeft","height","fill","cursor","transition","on","mouseenter","e","target","mouseleave","click","Number","artists","ar","album","al","duration","dt","$eventHub","$emit","events","nemMusic","play","from","music","attrs","xlink:href","formatDuration","row","computed","bodyStyles","$store","state","containerStyles","totalPages","Math","ceil","offset","created","_this2","asyncToGenerator_default","regenerator_default","a","mark","_callee","wrap","_context","prev","next","stop","methods","text","_d","_h","floor","_m","_s","searchMusic","_ref","_this3","promise_default","_callee2","resolve","searchMusicData","_context2","hasOwnProperty","dispatch","s","sent","min","result","songCount","_x","apply","arguments","doSearch","_this4","_callee3","_context3","nextPage","_this5","_callee4","_context4","prevPage","changePage","_this6","_callee5","_context5","inputSearchKey","watch","$route.query.s","immediate","handler","val","_this7","_callee6","_context6","$route","query","pages_search_m","_vm","$createElement","_c","_self","staticClass","search","enter-button","size","placeholder","on-enter","on-search","input","model","value","callback","$$v","expression","_v","enter-active-class","leave-active-class","_e","staticStyle","color","stripe","loading","total","page-size","show-elevator","on-change","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/26.cfeebbfd0bbd1c587714.js","sourcesContent":["<template>\n\t<div class=\"container\" :style=\"containerStyles\">\n\t\t<div class=\"inner\">\n\t\t\t<div class=\"main_content\">\n\t\t\t\t<div class=\"m-search\">\n\t\t\t\t\t<Input search enter-button size=\"large\" placeholder=\"搜索音乐\" class=\"custom-input\" v-model=\"searchKey\" @on-enter=\"doSearch\" @on-search=\"doSearch\" @input=\"inputSearchKey\"/>\n\t\t\t\t</div>\n\t\t\t\t<div class=\"m-bd\">\n\t\t\t\t\t<div class=\"m-bd-title\">\n\t\t\t\t\t\t搜索“{{searchKey}}”\n\t\t\t\t\t\t<transition name=\"search-result-transition\" enter-active-class=\"animated fadeIn faster\" leave-active-class=\"animated fadeOut faster\">\n\t\t\t\t\t\t\t<span v-if=\"!inputing\">，找到 <span style=\"color: rgb(79, 192, 141);\">{{totalCounts}}</span> 首单曲</span>\n\t\t\t\t\t\t</transition>\n\t\t\t\t\t</div>\n\t\t\t\t\t<div class=\"m-bd-table\">\n\t\t\t\t\t\t<Table stripe :loading=\"loadingData\" :columns=\"columns\" :data=\"songs['page-' + currentPage]\"></Table>\n\t\t\t\t\t</div>\n\t\t\t\t\t<transition name=\"page-transition\" enter-active-class=\"animated fadeIn faster\" leave-active-class=\"animated fadeOut faster\">\t\t\t\t\n\t\t\t\t\t\t<div class=\"m-bd-page\" v-if=\"totalCounts > 0\">\n\t\t\t\t\t\t\t<Page :total=\"totalCounts\" class=\"music_search_page\" :page-size=\"limit\" show-elevator @on-change=\"changePage\"/>\n\t\t\t\t\t\t</div>\n\t\t\t\t\t</transition>\n\t\t\t\t</div>\n\t\t\t</div>\t\t\t\n\t\t</div>\n\t</div>\n</template>\n<style scoped>\n\t.container {\n\t\twidth: 100%;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tbackground-color: rgba(255, 255, 255, .8);\n\t}\n\t.inner {\n\t\twidth: 950px;\n\t\theight: 100%;\n\t\tbackground-color: #ffffff;\n\t\tpadding: 40px;\n\t\toverflow-y: auto;\n\t\tbox-sizing: border-box;\n\t\tdisplay: flex;\n\t\tflex-direction: column;\n\t}\n\t.main_content {\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\toverflow-y: auto;\n\t}\n\t.inner .m-search {\n\t\tposition: sticky;\n    left: 0;\n    top: 0;\n    z-index: 9;\n\t\twidth: 100%;\n\t\theight: 40px;\n\t\tbackground-color: #ffffff;\n\t\tdisplay: flex;\n\t\tflex-direction: row;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t\tmargin-bottom: 15px;\n\t}\n\t.inner .m-search .custom-input {\n\t\twidth: 300px;\n\t}\n\t.inner .m-bd {\n\t\twidth: 100%;\t\t\n\t\tmargin-top: 15px;\n\t}\n\t.inner .m-bd-table {\n\t\twidth: 100%;\n\t\tmargin-top: 15px;\n\t\tmin-height: 300px;\n\t}\n\t.inner .m-bd-page {\n\t\tmargin-top: 15px;\n\t\tdisplay: flex;\n\t\talign-items: center;\n\t\tjustify-content: center;\n\t}\n</style>\n<script>\n\texport default {\n\t\tname: 'search-m',\n\t\tdata () {\n\t\t\treturn {\n\t\t\t\tsearchKey: '',\n\t\t\t\tcurrentPage: 0,\n\t\t\t\tlimit: 30,\n\t\t\t\ttotalCounts: 0,\n\t\t\t\tsongs: {},\n\t\t\t\tloadingData: true,\n\t\t\t\tplayingIndex: -1, // 正在播放当前列表中第几首歌\n\t\t\t\tinputing: false,\n\t\t\t\tcolumns: [\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: '',\n\t\t\t\t\t\tkey: '',\n\t\t\t\t\t\twidth: 80,\n\t\t\t\t\t\trender: (h, params) => {\n\t\t\t\t\t\t\tconst that = this\n\t\t\t\t\t\t\treturn h('div', {\n\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\t\tjustifyContent: 'space-between'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}, [\n\t\t\t\t\t\t\t\th('span', params.index + 1),\n\t\t\t\t\t\t\t\th('div', {\n\t\t\t\t\t\t\t\t\tclass: 'item_play_container',\n\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\tmarginLeft: '5px',\n\t\t\t\t\t\t\t\t\t\tdisplay: 'flex',\n\t\t\t\t\t\t\t\t\t\talignItems: 'center',\n\t\t\t\t\t\t\t\t\t\tjustifyContent: 'center'\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t}, [\n\t\t\t\t\t\t\t\t\th('svg', {\n\t\t\t\t\t\t\t\t\t\tstyle: {\n\t\t\t\t\t\t\t\t\t\t\twidth: '20px',\n\t\t\t\t\t\t\t\t\t\t\theight: '20px',\n\t\t\t\t\t\t\t\t\t\t\tfill: (that.playingIndex === params.index) ? '#C20C0C' : '#dadada',\n\t\t\t\t\t\t\t\t\t\t\tcursor: 'pointer',\n\t\t\t\t\t\t\t\t\t\t\ttransition: 'all .2s ease-in-out'\n\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\ton: {\n\t\t\t\t\t\t\t\t\t\t\tmouseenter (e) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (that.playingIndex !== params.index) {\n\t\t\t\t\t\t\t\t\t\t\t\t\te.target.style.fill = '#333333'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tmouseleave (e) {\n\t\t\t\t\t\t\t\t\t\t\t\tif (that.playingIndex !== params.index) {\n\t\t\t\t\t\t\t\t\t\t\t\t\te.target.style.fill = '#dadada'\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t},\n\t\t\t\t\t\t\t\t\t\t\tclick (e) {\n\t\t\t\t\t\t\t\t\t\t\t\tthat.playingIndex = Number(params.index)\n\t\t\t\t\t\t\t\t\t\t\t\tthat.songs['page-' + that.currentPage][that.playingIndex].artists = that.songs['page-' + that.currentPage][that.playingIndex].ar\n\t\t\t\t\t\t\t\t\t\t\t\tthat.songs['page-' + that.currentPage][that.playingIndex].album = that.songs['page-' + that.currentPage][that.playingIndex].al\n\t\t\t\t\t\t\t\t\t\t\t\tthat.songs['page-' + that.currentPage][that.playingIndex].duration = that.songs['page-' + that.currentPage][that.playingIndex].dt\n\t\t\t\t\t\t\t\t\t\t\t\tthat.$eventHub.$emit(that.events.nemMusic.play, {\n\t\t\t\t\t\t\t\t\t\t\t\t\tfrom: 'search',\n\t\t\t\t\t\t\t\t\t\t\t\t\tmusic: [that.songs['page-' + that.currentPage][that.playingIndex]]\n\t\t\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t}, [\n\t\t\t\t\t\t\t\t\t\th('use', {\n\t\t\t\t\t\t\t\t\t\t\tattrs: {\n\t\t\t\t\t\t\t\t\t\t\t\t'xlink:href': (that.playingIndex === params.index) ? '#nem-pause' : '#nem-play'\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t\t])\n\t\t\t\t\t\t\t])\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: '歌名',\n\t\t\t\t\t\tkey: 'name',\n\t\t\t\t\t\twidth: 200\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: '时长',\n\t\t\t\t\t\tkey: 'duration',\n\t\t\t\t\t\twidth: 80,\n\t\t\t\t\t\trender: (h, params) => {\n\t\t\t\t\t\t\treturn h('span', this.formatDuration(params.row.dt))\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: '歌手',\n\t\t\t\t\t\tkey: 'artists',\n\t\t\t\t\t\trender: (h, params) => {\n\t\t\t\t\t\t\treturn h('span', params.row.ar[0].name)\n\t\t\t\t\t\t}\n\t\t\t\t\t},\n\t\t\t\t\t{\n\t\t\t\t\t\ttitle: '专辑',\n\t\t\t\t\t\tkey: 'album',\n\t\t\t\t\t\trender: (h, params) => {\n\t\t\t\t\t\t\treturn h('span', params.row.al.name)\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t]\n\t\t\t}\n\t\t},\n\t\tcomputed: {\n\t\t\tbodyStyles () {\n\t\t\t\treturn this.$store.state.bodyStyles\n\t\t\t},\n\t\t\tcontainerStyles () {\n\t\t\t\treturn {\n\t\t\t\t\theight: (this.bodyStyles.height - 65) + 'px'\n\t\t\t\t}\n\t\t\t},\n\t\t\ttotalPages () {\n\t\t\t\treturn Math.ceil(this.totalCounts / this.limit)\n\t\t\t},\n\t\t\toffset () {\n\t\t\t\treturn this.limit * this.currentPage\n\t\t\t},\n\t\t\tevents () {\n\t\t\t\treturn this.$store.state.events\n\t\t\t}\n\t\t},\n\t\tasync created () {\n\t\t\t\n\t\t},\n\t\tmethods: {\n\t\t\tformatDuration (text) {\n\t\t\t\tlet _d = Number(text)\n\t\t\t\tlet _h = Math.floor(_d / (60 * 60 * 1000))\n\t\t\t\tif (_h < 10) {\n\t\t\t\t\t_h = '0' + _h\n\t\t\t\t}\n\t\t\t\tlet _m = Math.floor(_d % (60 * 60 * 1000) / (60 * 1000))\n\t\t\t\tif (_m < 10) {\n\t\t\t\t\t_m = '0' + _m\n\t\t\t\t}\n\t\t\t\tlet _s = Math.floor((_d % (60 * 1000)) / 1000)\n\t\t\t\tif (_s < 10) {\n\t\t\t\t\t_s = '0' + _s\n\t\t\t\t}\n\t\t\t\treturn (_h === '00' ? '' : (_h + ':')) + _m + ':' + _s\n\t\t\t},\n\t\t\tsearchMusic () {\t\t\t\t\n\t\t\t\treturn new Promise(async (resolve) => {\n\t\t\t\t\tthis.loadingData = true\n\t\t\t\t\tif (!this.songs.hasOwnProperty('page-' + this.currentPage)) {\n\t\t\t\t\t\tlet searchMusicData = await this.$store.dispatch('moduleNem/searchMusic', {\n\t\t\t\t\t\t\ts: this.searchKey,\n\t\t\t\t\t\t\toffset: this.offset,\n\t\t\t\t\t\t\tlimit: this.limit\n\t\t\t\t\t\t})\n\t\t\t\t\t\tthis.totalCounts = Math.min(600, searchMusicData.result.songCount)\n\t\t\t\t\t\tthis.songs['page-' + this.currentPage] = searchMusicData.result.songs\n\t\t\t\t\t}\n\t\t\t\t\tthis.loadingData = false\n\t\t\t\t\tresolve(true)\n\t\t\t\t})\n\t\t\t},\n\t\t\tasync doSearch () {\n\t\t\t\tthis.inputing = false\n\t\t\t\tthis.currentPage = 0\n\t\t\t\tthis.songs = {}\n\t\t\t\tthis.totalCounts = 0\n\t\t\t\tawait this.searchMusic()\n\t\t\t},\n\t\t\tasync nextPage () {\n\t\t\t\tif (this.currentPage < this.totalPages - 1) {\n\t\t\t\t\t// 下一页\n\t\t\t\t\tthis.currentPage += 1\n\t\t\t\t\tawait this.searchMusic()\n\t\t\t\t}\n\t\t\t},\n\t\t\tprevPage () {\n\t\t\t\tif (this.currentPage > 0) {\n\t\t\t\t\tthis.currentPage -= 1\n\t\t\t\t}\n\t\t\t},\n\t\t\tasync changePage (index) {\n\t\t\t\tthis.currentPage = (index - 1)\n\t\t\t\tawait this.searchMusic()\n\t\t\t},\n\t\t\tinputSearchKey () {\n\t\t\t\tthis.inputing = true\n\t\t\t}\n\t\t},\n\t\twatch: {\n\t\t\t'$route.query.s': {\n\t\t\t\timmediate: true,\n\t\t\t\tasync handler (val) {\n\t\t\t\t\tthis.searchKey = this.$route.query.s\n\t\t\t\t\tawait this.doSearch()\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n</script>\n\n\n// WEBPACK FOOTER //\n// src/components/pages/audio/pages/search.m.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"container\",style:(_vm.containerStyles)},[_c('div',{staticClass:\"inner\"},[_c('div',{staticClass:\"main_content\"},[_c('div',{staticClass:\"m-search\"},[_c('Input',{staticClass:\"custom-input\",attrs:{\"search\":\"\",\"enter-button\":\"\",\"size\":\"large\",\"placeholder\":\"搜索音乐\"},on:{\"on-enter\":_vm.doSearch,\"on-search\":_vm.doSearch,\"input\":_vm.inputSearchKey},model:{value:(_vm.searchKey),callback:function ($$v) {_vm.searchKey=$$v},expression:\"searchKey\"}})],1),_vm._v(\" \"),_c('div',{staticClass:\"m-bd\"},[_c('div',{staticClass:\"m-bd-title\"},[_vm._v(\"\\n\\t\\t\\t\\t\\t搜索“\"+_vm._s(_vm.searchKey)+\"”\\n\\t\\t\\t\\t\\t\"),_c('transition',{attrs:{\"name\":\"search-result-transition\",\"enter-active-class\":\"animated fadeIn faster\",\"leave-active-class\":\"animated fadeOut faster\"}},[(!_vm.inputing)?_c('span',[_vm._v(\"，找到 \"),_c('span',{staticStyle:{\"color\":\"rgb(79, 192, 141)\"}},[_vm._v(_vm._s(_vm.totalCounts))]),_vm._v(\" 首单曲\")]):_vm._e()])],1),_vm._v(\" \"),_c('div',{staticClass:\"m-bd-table\"},[_c('Table',{attrs:{\"stripe\":\"\",\"loading\":_vm.loadingData,\"columns\":_vm.columns,\"data\":_vm.songs['page-' + _vm.currentPage]}})],1),_vm._v(\" \"),_c('transition',{attrs:{\"name\":\"page-transition\",\"enter-active-class\":\"animated fadeIn faster\",\"leave-active-class\":\"animated fadeOut faster\"}},[(_vm.totalCounts > 0)?_c('div',{staticClass:\"m-bd-page\"},[_c('Page',{staticClass:\"music_search_page\",attrs:{\"total\":_vm.totalCounts,\"page-size\":_vm.limit,\"show-elevator\":\"\"},on:{\"on-change\":_vm.changePage}})],1):_vm._e()])],1)])])])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-4e670b7d\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/pages/audio/pages/search.m.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-4e670b7d\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!../../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./search.m.vue\")\n}\nvar normalizeComponent = require(\"!../../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.m.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./search.m.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-4e670b7d\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./search.m.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-4e670b7d\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/pages/audio/pages/search.m.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}
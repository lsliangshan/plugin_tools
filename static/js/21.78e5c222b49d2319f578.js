webpackJsonp([21],{"3SB6":function(t,a){},dlPE:function(t,a,i){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var e=i("//Fk"),n=i.n(e),s=i("Xxa5"),l=i.n(s),r=i("exGp"),c=i.n(r),u={name:"AudioPlaylist",data:function(){var t=this;return{albumDetail:{},description:"",descriptionHide:!0,loadingData:!0,playingIndex:-1,columns:[{title:"",key:"",width:80,render:function(a,i){var e=t;return a("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"}},[a("span",i.index+1),a("div",{class:"item_play_container",style:{marginLeft:"5px",display:"flex",alignItems:"center",justifyContent:"center"}},[a("svg",{style:{width:"20px",height:"20px",fill:e.playingIndex===i.index?"#C20C0C":"#dadada",cursor:"pointer",transition:"all .2s ease-in-out"},on:{mouseenter:function(t){e.playingIndex!==i.index&&(t.target.style.fill="#333333")},mouseleave:function(t){e.playingIndex!==i.index&&(t.target.style.fill="#dadada")},click:function(t){e.playingIndex=Number(i.index),e.albumDetail.playlist.tracks[e.playingIndex].artists=e.albumDetail.playlist.tracks[e.playingIndex].ar,e.albumDetail.playlist.tracks[e.playingIndex].album=e.albumDetail.playlist.tracks[e.playingIndex].al,e.albumDetail.playlist.tracks[e.playingIndex].duration=e.albumDetail.playlist.tracks[e.playingIndex].dt,e.$eventHub.$emit(e.events.nemMusic.play,{from:"list",music:[e.albumDetail.playlist.tracks[e.playingIndex]]})}}},[a("use",{attrs:{"xlink:href":e.playingIndex===i.index?"#nem-pause":"#nem-play"}})])])])}},{title:"歌名",key:"name",width:200},{title:"时长",key:"duration",width:80,render:function(a,i){return a("span",t.formatDuration(i.row.dt))}},{title:"歌手",key:"artists",render:function(t,a){return t("span",a.row.ar[0].name)}},{title:"专辑",key:"album",render:function(t,a){return t("span",a.row.al.name)}}]}},computed:{bodyStyles:function(){return this.$store.state.bodyStyles},containerStyles:function(){return{height:this.bodyStyles.height-65+"px"}},events:function(){return this.$store.state.events}},created:function(){var t=this;return c()(l.a.mark(function a(){return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,t.init();case 2:t.albumDetail=a.sent,t.loadingData=!1,t.description=t.albumDetail.playlist.description.length>100?(t.albumDetail.playlist.description.substring(0,100)+"...").split("\n"):t.albumDetail.playlist.description.split("\n");case 5:case"end":return a.stop()}},a,t)}))()},mounted:function(){this.$eventHub.$on(this.events.nemMusic.play,this.playHandle)},methods:{init:function(){var t,a=this;return new n.a((t=c()(l.a.mark(function t(i){var e;return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.$store.dispatch("moduleNem/getAlbumDetail",{id:a.$route.query.id});case 2:e=t.sent,i(e);case 4:case"end":return t.stop()}},t,a)})),function(a){return t.apply(this,arguments)}))},formatDuration:function(t){var a=Number(t),i=Math.floor(a/36e5);i<10&&(i="0"+i);var e=Math.floor(a%36e5/6e4);e<10&&(e="0"+e);var n=Math.floor(a%6e4/1e3);return n<10&&(n="0"+n),("00"===i?"":i+":")+e+":"+n},getMusicDetail:function(t){var a,i=this;return new n.a((a=c()(l.a.mark(function t(a){return l.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:a(!0);case 1:case"end":return t.stop()}},t,i)})),function(t){return a.apply(this,arguments)}))},getMusicList:function(){},getIndexById:function(t){for(var a=0,i=-1,e=this.albumDetail.playlist.tracks;a<e.length;a++)String(t)===String(e[a].id)&&(i=a,a=e.length);return i},playHandle:function(t){this.playingIndex=this.getIndexById(t.music[0].id)}},filters:{formatCreateTime:function(t){var a=new Date;a.setTime(t);var i=a.getFullYear(),e=a.getMonth();e=e+1<10?"0"+(e+1):e+1;var n=a.getDate();return i+"-"+e+"-"+(n=n<10?"0"+n:n)}},watch:{descriptionHide:{handler:function(t){this.description=t&&this.albumDetail.playlist.description.length>100?(this.albumDetail.playlist.description.substring(0,100)+"...").split("\n"):this.albumDetail.playlist.description.split("\n")}}}},o={render:function(){var t=this,a=t.$createElement,i=t._self._c||a;return i("div",{staticClass:"audio_playlist_container",style:t.containerStyles},[t.albumDetail.playlist?i("div",{staticClass:"audio_playlist_inner"},[i("div",{staticClass:"main_content"},[i("div",{staticClass:"m-info"},[i("div",{staticClass:"left"},[i("img",{attrs:{src:t.albumDetail.playlist.coverImgUrl}})]),t._v(" "),i("div",{staticClass:"right"},[i("div",{staticClass:"hd"},[i("div",{staticClass:"icn"},[t._v("歌单")]),t._v(" "),i("div",{staticClass:"title"},[t._v(t._s(t.albumDetail.playlist.name))])]),t._v(" "),t.albumDetail.playlist.creator?i("div",{staticClass:"user"},[i("div",{staticClass:"avatar"},[i("img",{attrs:{src:t.albumDetail.playlist.creator.avatarUrl}})]),t._v(" "),i("div",{staticClass:"nickname"},[t._v(t._s(t.albumDetail.playlist.creator.nickname))]),t._v(" "),i("div",{staticClass:"createtime"},[t._v(t._s(t._f("formatCreateTime")(t.albumDetail.playlist.createTime))+" 创建")])]):t._e(),t._v(" "),i("div",{staticClass:"tags"},[t._v("\n\t\t\t\t\t\t标签:\n\t\t\t\t\t\t"),t._l(t.albumDetail.playlist.tags,function(a,e){return i("span",{key:e,staticClass:"u-tag"},[t._v(t._s(a))])})],2),t._v(" "),i("div",{staticClass:"desc"},t._l(t.description,function(a,e){return i("p",[t._v(t._s(a)),i("br")])})),t._v(" "),t.albumDetail.playlist.description.length>100?i("div",{staticClass:"desc_toggle",on:{click:function(a){t.descriptionHide=!t.descriptionHide}}},[t.descriptionHide?i("div",[t._v("\n\t\t\t\t\t\t\t展开\n\t\t\t\t\t\t\t"),i("Icon",{attrs:{type:"ios-arrow-down"}})],1):i("div",[t._v("\n\t\t\t\t\t\t\t收起\n\t\t\t\t\t\t\t"),i("Icon",{attrs:{type:"ios-arrow-up"}})],1)]):t._e()])]),t._v(" "),i("div",{staticClass:"m-list"},[i("div",{staticClass:"l-hd"},[i("div",{staticClass:"left"},[i("span",{staticClass:"title"},[t._v("歌曲列表")]),t._v(" "),i("span",{staticClass:"cnt"},[t._v(t._s(t.albumDetail.playlist.trackCount)+"首歌")])]),t._v(" "),i("div",{staticClass:"right"},[t._v("\n\t\t\t\t\t\t播放："),i("span",{staticClass:"play_count"},[t._v(t._s(t.albumDetail.playlist.playCount))]),t._v("次\n\t\t\t\t\t")])]),t._v(" "),i("Table",{attrs:{stripe:"",loading:t.loadingData,columns:t.columns,data:t.albumDetail.playlist.tracks}})],1)]),t._v(" "),i("div",{staticClass:"side_content"})]):t._e()])},staticRenderFns:[]};var d=i("VU/8")(u,o,!1,function(t){i("3SB6")},"data-v-f040dd94",null);a.default=d.exports}});
//# sourceMappingURL=21.78e5c222b49d2319f578.js.map